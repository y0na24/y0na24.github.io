---
import type { HTMLAttributes } from 'astro/types'

import PossibilityList from './PossibilityList.astro'
import Button from 'src/shared/ui/Button.astro'

import { possibilitesCards } from './constants'
import { Image } from 'astro:assets'

interface Props extends HTMLAttributes<'section'> {}
---

<section
	id='Возможности'
	class:list={['possibilities', Astro.props.class]}
	{...Astro.props}
>
	<div class='container'>
		<h2 class='title possibilities__title'>Наши возможности</h2>
		<p class='possibilities__description description'>
			Мы накопили обширный опыт сотрудничества как с оборонными предприятиями,
			так и с коммерческими структурами, включая пивные заводы. Работаем со
			специальными счетами и соблюдаем все требования безопасности и контроля.
		</p>
		<PossibilityList class='possibilities__cardList'>
			{
				possibilitesCards.map(card => (
					<li class='card'>
						<Image
							class='card__image card__image--sm'
							src={card.smImgSrc}
							alt={card.subtitle}
						/>
						<Image
							class='card__image card__image--lg'
							src={card.lgImgSrc}
							alt={card.subtitle}
						/>
						<h3 class='subtitle'>{card.subtitle}</h3>
					</li>
				))
			}
		</PossibilityList>
		<div class='possibilities__btn-container'>
			<Button href='Контакты' class='possibilities__btn' variant='green'
				>Оставить заявку</Button
			>
		</div>
	</div>
</section>

<style>
	.possibilities__title {
		margin-bottom: 24px;
	}

	.possibilities__description {
		margin-bottom: 42px;
	}

	.possibilities__cardList {
		margin-bottom: 42px;
	}

	.possibilities__btn {
		padding: 24px 72px;
		font-size: 20px;
		transition: all 0.2s;
		display: block;
		margin: 0 auto;
		max-width: 400px;
		font-weight: 500;
		line-height: 27px;
	}

	.possibilities__btn:hover {
		color: var(--primary-color);
		background: var(--white-color);
	}

	.card {
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	.card__image {
		border-radius: var(--card-border-radius);
		margin-bottom: 20px;
		display: block;
	}

	.card__image--sm {
		display: block;
	}

	.card__image--lg {
		display: none;
	}

	@media screen and (min-width: 768px) {
		.card__image--lg {
			display: block;
		}
		.card__image--sm {
			display: none;
		}
	}

	@media screen and (min-width: 1440px) {
		.possibilities__cardList {
			margin-bottom: 64px;
			font-size: 16px;
			font-weight: 500;
			line-height: 22px;
		}
		.card__image--lg {
			display: none;
		}
		.card__image--sm {
			display: block;
		}

		.possibilities__btn {
			margin-bottom: 96px;
		}
	}

	@media screen and (min-width: 1920px) {
		.card__image--lg {
			display: block;
		}
		.card__image--sm {
			display: none;
		}
	}
</style>
